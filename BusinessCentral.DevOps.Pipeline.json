{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"645683","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/master"],"pathFilters":[],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"_links":{"self":{"href":"https://kappi.visualstudio.com/b30a110e-0acb-4e75-b28e-c3020f8f8a63/_apis/build/Definitions/2?revision=7"},"web":{"href":"https://kappi.visualstudio.com/b30a110e-0acb-4e75-b28e-c3020f8f8a63/_build/definition?definitionId=2"},"editor":{"href":"https://kappi.visualstudio.com/b30a110e-0acb-4e75-b28e-c3020f8f8a63/_build/designer?id=2&_a=edit-build-definition"},"badge":{"href":"https://kappi.visualstudio.com/b30a110e-0acb-4e75-b28e-c3020f8f8a63/_apis/build/status/2"}},"jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Remove existing container","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Remove-NavEnvironment.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build and Update Docker Container","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Build-NavEnvironment.ps1 -Repository $(System.DefaultWorkingDirectory) -BuildSettings @{dockerMemoryLimit='4G';BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Import Test Libraries","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName ImportFrom-StandardTestLibrariesToNAV.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Initialize Test Company","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Initialize-NAVCompany.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Download AL Addin","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Download-ALAddin.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Download AL Symbols","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Download-ALSymbols.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build AL Solution","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Build-ALSolution.ps1 -BuildSettings @{BuildMode=$true;buildID=$(Build.BuildID)}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy AL Solution to Symbols","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Copy-ALSolutionToSymbols.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build AL Test Solution","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Build-ALTestSolution.ps1 -BuildSettings @{BuildMode=$true;buildID=$(Build.BuildID)}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install AL Extension","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Install-ALExtensionsToDocker.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Execute AL Test Codeunits","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Start-ALTestsExecution.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Save Test Results","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Save-TestResults.ps1 -BuildSettings @{BuildMode=$true;TestResultsPath='TEST-Build_$(Build.BuildID).trx'}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Test Results **\\TEST-*.","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","versionSpec":"2.*","definitionType":"task"},"inputs":{"testRunner":"VSTest","testResultsFiles":"**\\TEST-*.trx","searchFolder":"$(System.DefaultWorkingDirectory)","mergeTestResults":"false","testRunTitle":"","platform":"","configuration":"","publishRunAttachments":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy AL Solution to Artifact folder","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Copy-ALSolutionToArtifactStagingDirectory.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Sign AL Solution in Artifact folder","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Sign-ArtifactAppPackage.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"true","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: App","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"Artifacts","ArtifactName":"Business Central App","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8"}},{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Remove Container","timeoutInMinutes":0,"condition":"always()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Remove-NavEnvironment.ps1","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":true,"displayName":"Delete Logs","timeoutInMinutes":0,"condition":"succeededOrFailed()","task":{"id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","versionSpec":"2.*","definitionType":"task"},"inputs":{"targetType":"filePath","filePath":"C:\\AdvaniaGIT\\Scripts\\Start-CustomAction.ps1","arguments":"-ScriptName Delete-OldLogs.ps1 -BuildSettings @{BuildMode=$true}","script":"# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}}],"name":"Build AL Project","refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":1,"jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"3f6a9b3b-699b-4a74-804f-c340d19b7075","type":"TfsGit","name":"BusinessCentral","url":"https://kappi.visualstudio.com/BusinessCentral/_git/BusinessCentral","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Gunnar Þór Gestsson","url":"https://app.vssps.visualstudio.com/Aa1f56421-966a-478c-80fc-25e0cb92fd56/_apis/Identities/c79331fa-9749-422a-87d0-c8bdbb50f989","_links":{"avatar":{"href":"https://kappi.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.MTY3OTQ1M2YtMjk2Yy03NGVjLTgyZjMtNjc0ZGEwMDUyMjA0"}},"id":"c79331fa-9749-422a-87d0-c8bdbb50f989","uniqueName":"gunnar@dynamics.is","imageUrl":"https://kappi.visualstudio.com/_api/_common/identityImage?id=c79331fa-9749-422a-87d0-c8bdbb50f989","descriptor":"msa.MTY3OTQ1M2YtMjk2Yy03NGVjLTgyZjMtNjc0ZGEwMDUyMjA0"},"drafts":[],"queue":{"_links":{"self":{"href":"https://kappi.visualstudio.com/_apis/build/Queues/36"}},"id":36,"name":"Default","url":"https://kappi.visualstudio.com/_apis/build/Queues/36","pool":{"id":1,"name":"Default"}},"id":2,"name":"BusinessCentral","url":"https://kappi.visualstudio.com/b30a110e-0acb-4e75-b28e-c3020f8f8a63/_apis/build/Definitions/2?revision=7","uri":"vstfs:///Build/Definition/2","path":"\\","type":2,"queueStatus":0,"revision":7,"createdDate":"2018-11-17T00:26:55.933Z","project":{"id":"b30a110e-0acb-4e75-b28e-c3020f8f8a63","name":"BusinessCentral","description":"AL code for Microsoft Dynamics 365 Business Central","url":"https://kappi.visualstudio.com/_apis/projects/b30a110e-0acb-4e75-b28e-c3020f8f8a63","state":1,"revision":448723325,"visibility":0}}